<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Coueses</title>
    <!-- 这里可以引入你的样式表文件 -->
    <link rel="stylesheet" href="/static/css/teacher.css">
</head>
<body>
    <div class="container">
        <p>您所教授的课程：</p>
        <!-- 显示教师所教授课程的容器 -->

        <div id="teacherCourses">
            <!-- 这里将动态生成教师所教授的课程 -->
        </div>
        <p>请选择您要查看的课程：</p>
        <!-- 添加课程选择按钮 -->

    </div>

    <script>
    // 发起Ajax请求获取教师课程数据
    function getTeacherCourses() {
        // 发送GET请求到后端路由 '/teacher/info/get'
        fetch('/teacher/info/get', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({}) // 可以传递需要的参数，如教师ID
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                displayTeacherCourses(data.info, data.course_info);
            } else {
                console.error('获取教师课程数据失败');
            }
        })
        .catch(error => console.error('获取教师课程数据出错:', error));
    }

    // 显示教师所教授的课程列表
    function displayTeacherCourses(teacherInfo, courseInfo) {
        var teacherCoursesContainer = document.getElementById("teacherCourses");
        var courses = courseInfo.courses; // 假设课程信息在返回数据中的courses字段中
        var specialty = teacherInfo.specialty; // 假设专业信息在返回数据中的specialty字段中

        // 在页面上显示专业信息
        var specialtyElement = document.createElement("p");
        specialtyElement.textContent = "您的专业：" + specialty;
        teacherCoursesContainer.appendChild(specialtyElement);

        // 动态生成课程列表
        courses.forEach(function(course) {
            var courseItem = document.createElement("div");
            courseItem.textContent = course.name;
            teacherCoursesContainer.appendChild(courseItem);
        });
    }

    // 页面加载完成后获取并显示教师课程数据
    window.onload = function() {
        getTeacherCourses();
    };
</script>

</body>
</html>
