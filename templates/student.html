<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRD_STUDENT</title>
    <link rel="stylesheet" href="../static/css/student.css">
</head>
<body>
    <div class="container">
        <h1>一体化在线教育社区系统</h1>
        <button class="button" onclick="register()">注册</button>
        <button class="Login_button" onclick="login()" id="student_login">登录</button>
        <nav>
            <ul>
                <li><button onclick="go_home()">主页</button></li>
                <li><button onclick="go_courses()">课程</button></li>
                <li><button onclick="go_bbs">论坛</button></li>
                <li><button onclick="go_grades">成绩</button></li>
            </ul>
        </nav>
        <br>
    </div>
<!--    <div class="content" id="course">-->
<!--        <div class="container">-->
<!--            <h2>推荐课程</h2>-->
<!--            <div class="course">-->
<!--                <h2>计算机编程入门</h2>-->
<!--                <p>本课程介绍计算机编程的基础知识，适合初学者。</p>-->
<!--                <a class="btn" href="#">开始学习</a>-->
<!--            </div>-->
<!--            <div class="course">-->
<!--                <h2>数据结构与算法</h2>-->
<!--                <p>本课程深入讲解数据结构和算法的原理和应用。</p>-->
<!--                <a class="btn" href="#">开始学习</a>-->
<!--            </div>-->
<!--            <div class="course">-->
<!--                <h2>英语口语提高</h2>-->
<!--                <p>本课程旨在提高学生的英语口语水平。</p>-->
<!--                <a class="btn" href="#">开始学习</a>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
</body>

<script>
     var urlParams = new URLSearchParams(window.location.search);
     var receivedData = urlParams.get('data');
     var cookieName = "student";
     var cookieValue = receivedData;
     document.cookie = cookieName + "=" + cookieValue;

    function checkCookie(cookieName) {
    // 获取所有的 Cookie，并以分号加空格进行分割
    var cookies = document.cookie.split("; ");

    // 遍历所有 Cookie
    for (var i = 0; i < cookies.length; i++) {
        // 分割每个 Cookie 的键值对
        var cookiePair = cookies[i].split("=");

        // 检查当前 Cookie 是否为目标 Cookie
        if (cookiePair[0] === cookieName && cookiePair[1] === cookieValue) {
            // 如果找到目标 Cookie，返回 true
            return cookieValue;
        }
    }

    // 如果未找到目标 Cookie，则返回 false
    return false;
}


     var myCookieValue = checkCookie("student");
     if (myCookieValue){
         alert(myCookieValue);
         var cookieString ='<div>'+'欢迎你,'+myCookieValue+'</div>';
         alert(cookieString);
         document.getElementById("student_login").innerHTML = cookieString;

     }

     function go_home(){
         var ck=checkCookie('student');
         alert(cookieValue);
         if(ck==cookieValue){
             alert(ck);
             window.location.href="/student/home";

         }else{
             alert("err");
             window.location.href="/login/student";
         }
     }
     function go_courses(){
         var ck=checkCookie('student');
         alert(cookieValue);
         if(ck==cookieValue){
             alert(ck);
             window.location.href="/student/courses";
         }else{
             alert("err");
             window.location.href="/login/student";
         }
     }
     function go_bbs(){
         var ck=checkCookie('student');
         alert(cookieValue);
         if(ck==cookieValue){
             alert(ck);
             window.location.href="/student/bbs";
         }else{
             alert("err");
             window.location.href="/login/student";
         }
     }
     function go_grades(){
         var ck=checkCookie('student');
         alert(cookieValue);
         if(ck==cookieValue){
             alert(ck);
             window.location.href="/student/grades";
         }else{
             alert("err");
             window.location.href="/login/student";
         }
     }
     function login(){
         var ck=checkCookie('student');
         alert(cookieValue);
         if(ck==cookieValue){
             alert(ck);
         }else{
             alert("err");
             window.location.href="/login/student";
         }
     }
</script>
</html>
